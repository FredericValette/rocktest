# Basic test : match

- type: regex.match
  params:
    pattern: ro.k
    string: rock

- type: assert
  value: equals
  desc: Basic regex check - match
  params:
    expected: true
    actual: ${match.match}

# Basic test : no match

- type: regex.match
  params:
    pattern: ro.k
    string: rocK

- type: assert
  value: equals
  desc: Basic regex check - no match
  params:
    expected: false
    actual: ${match.match}

# Extraction

- type: regex.match
  params:
    string: I love INXS and Mick Jagger but not XX
    pattern: I love (.*) and (.*) but not (.*)

- type: assert
  value: equals
  desc: Extraction
  params:
    expected: true
    actual: ${match.match}

- type: assert
  value: equals
  desc: Extraction
  params:
    expected: INXS
    actual: ${match.1}

- type: assert
  value: equals
  desc: Extraction
  params:
    expected: Mick Jagger
    actual: ${match.2}

- type: assert
  value: equals
  desc: Extraction
  params:
    expected: XX
    actual: ${match.3}

# Extraction with unset group

- type: regex.match
  params:
    string: I love INXS but not XX
    pattern: I love (.*) (?:and (.*) )?but not (.*)

- type: assert
  value: equals
  desc: Extraction
  params:
    expected: true
    actual: ${match.match}

- type: assert
  value: equals
  desc: Extraction
  params:
    expected: INXS
    actual: ${match.1}

- type: assert
  value: equals
  desc: Extraction with unset variable
  params:
    expected: unset
    actual: ${match.2::unset}

- type: assert
  value: equals
  desc: Extraction
  params:
    expected: XX
    actual: ${match.3}

# Inline syntax

- type: assert
  value: equals
  desc: Inline syntax
  params:
    expected: Mark
    actual: ${$regex.match(I love (.*) and (.*),I love Bruce and Mark).2}
