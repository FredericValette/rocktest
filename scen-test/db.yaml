- type : sql.connect
  params:
    retry: 0
    url: "jdbc:h2:mem:"
    user: sa
    password: sa

- type: sql.request
  params:
    request: >-
      CREATE TABLE rock (
         id INT NOT NULL,
         title VARCHAR(50) NOT NULL,
         author VARCHAR(20) NOT NULL,
         date DATE
      );

- type: sql.request
  params:
    request: insert into rock (id,title,author,date) values(1,'Born in the USA','Bruce Springsteen',parsedatetime('19840604','yyyymmdd'))

- type: sql.request
  params:
    request: select * from rock

- type: display
  value: ${request.3} rocks !!

- type: display
  value: '"${request.TITLE}" is the best song ever.'

- type: sql.request
  params:
    request: insert into rock (id,title,author,date) values(2,'Highway to hell','AC/DC',parsedatetime('19790727','yyyymmdd'))

- type: sql.request
  params:
    request: select * from rock
    expect:
      - Highway to hell
      - Born in the USA
